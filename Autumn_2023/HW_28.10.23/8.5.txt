Генерация индексов

Template.

Можно создать класс Country. У него будет одна невиртуальная функция GeneralIndex, генерирующая код по общим для всех стран
правилам. И будет одна виртуальная функция LocalIndex, генерирующая код специализированным для каждой конкретной страны способом. 

Тогда наследуясь от Country можно получать новые классы Russia, China и т.п и для каждой из них переопределять функцию LocalIndex в соответсвтии
с необходимым для каждой страны своим алгоритмом.

///